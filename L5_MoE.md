–õ–µ–∫—Ü–∏—è 5.
–¢–µ–º–∞ **¬´Mixture of Experts (MoE)¬ª**. 
–ú–∞—Ç–µ—Ä–∏–∞–ª—ã –≤–∫–ª—é—á–∞—é—Ç:

- –¶–µ–ª–∏ –∏ –∑–∞–¥–∞—á–∏ –∑–∞–Ω—è—Ç–∏—è  
- –ü–ª–∞–Ω –ª–µ–∫—Ü–∏–∏ —Å –≤—Ä–µ–º–µ–Ω–Ω—ã–º–∏ –º–µ—Ç–∫–∞–º–∏  
- –ö–ª—é—á–µ–≤—ã–µ –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏ –∏ —Ç–µ—Ä–º–∏–Ω—ã  
- –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –≤–æ–ø—Ä–æ—Å—ã –∏ –∑–∞–¥–∞–Ω–∏—è –¥–ª—è —Å–µ–º–∏–Ω–∞—Ä–∞  
- –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º–∞—è –ª–∏—Ç–µ—Ä–∞—Ç—É—Ä–∞  
- –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã (–¥–ª—è —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ–π —Ä–∞–±–æ—Ç—ã –∏ –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–π)  

---

## üß† **–ú–µ—Ç–æ–¥–∏—á–µ—Å–∫–∏–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã: –õ–µ–∫—Ü–∏—è ¬´–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ Mixture of Experts (MoE)¬ª**  
**–£—Ä–æ–≤–µ–Ω—å:** –º–∞–≥–∏—Å—Ç—Ä–∞—Ç—É—Ä–∞ (IT, NLP, –º–µ–¥–∏—Ü–∏–Ω—Å–∫–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ç–∏–∫–∞ ‚Äî –ø–æ –∂–µ–ª–∞–Ω–∏—é)  
**–ü—Ä–æ–¥–æ–ª–∂–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:** 90 –º–∏–Ω—É—Ç (–ª–µ–∫—Ü–∏—è + —Å–µ–º–∏–Ω–∞—Ä)  
**–Ø–∑—ã–∫:** —Ä—É—Å—Å–∫–∏–π  

---

### üéØ **–¶–µ–ª–∏ –∏ –∑–∞–¥–∞—á–∏ –∑–∞–Ω—è—Ç–∏—è**

**–¶–µ–ª—å:**  
–ü–æ–∑–Ω–∞–∫–æ–º–∏—Ç—å —Å—Ç—É–¥–µ–Ω—Ç–æ–≤ —Å —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–æ–π Mixture of Experts (MoE), –ø–æ–Ω—è—Ç—å –µ—ë —Ä–æ–ª—å –≤ –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏–∏ –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º—ã—Ö –∏ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã—Ö —è–∑—ã–∫–æ–≤—ã—Ö –º–æ–¥–µ–ª–µ–π, –∞ —Ç–∞–∫–∂–µ –æ—Å–≤–æ–∏—Ç—å –∫–ª—é—á–µ–≤—ã–µ –∏–Ω–∂–µ–Ω–µ—Ä–Ω—ã–µ –∏ –æ–±—É—á–∞—é—â–∏–µ –∞—Å–ø–µ–∫—Ç—ã.

**–ó–∞–¥–∞—á–∏:**  
1. –û–±—ä—è—Å–Ω–∏—Ç—å –ø—Ä–∏–Ω—Ü–∏–ø —Ä–∞–±–æ—Ç—ã MoE –∏ –µ—ë –æ—Ç–ª–∏—á–∏–µ –æ—Ç ¬´–ø–ª–æ—Ç–Ω—ã—Ö¬ª (dense) –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä.  
2. –ü—Ä–æ–¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ MoE —Å —Ç–æ—á–∫–∏ –∑—Ä–µ–Ω–∏—è FLOPs / –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ / –∫–∞—á–µ—Å—Ç–≤–∞.  
3. –†–∞–∑–æ–±—Ä–∞—Ç—å –º–µ—Ö–∞–Ω–∏–∑–º—ã –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏ –∏ –±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∫–∏.  
4. –ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å —ç–≤–æ–ª—é—Ü–∏—é –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã –Ω–∞ –ø—Ä–∏–º–µ—Ä–µ DeepSeek (V1 ‚Üí V3).  
5. –û–±—Å—É–¥–∏—Ç—å —Å–∏—Å—Ç–µ–º–Ω—ã–µ —Å–ª–æ–∂–Ω–æ—Å—Ç–∏ –∏ –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è MoE.  
6. –ü–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å —Å—Ç—É–¥–µ–Ω—Ç–æ–≤ –∫ —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ–π —Ä–∞–±–æ—Ç–µ —Å open-source MoE-–º–æ–¥–µ–ª—è–º–∏.

---

### üóÇÔ∏è **–ü–ª–∞–Ω –ª–µ–∫—Ü–∏–∏ (90 –º–∏–Ω)**

| –≠—Ç–∞–ø | –í—Ä–µ–º—è | –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ |
|------|-------|-----------|
| **1. –í–≤–µ–¥–µ–Ω–∏–µ** | 10 –º–∏–Ω | ‚Äî –ü–æ—á–µ–º—É MoE —Å—Ç–∞–ª–∏ –∫–ª—é—á–µ–≤–æ–π —Ç–µ–º–æ–π –≤ 2025 –≥.<br>‚Äî –ü—Ä–∏–º–µ—Ä—ã: GPT-4 (—É—Ç–µ—á–∫–∞ NVIDIA), Grok, Llama 4, DeepSeek-V3<br>‚Äî –û–±–∑–æ—Ä –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤: —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å, –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å |
| **2. –ë–∞–∑–æ–≤–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ MoE** | 15 –º–∏–Ω | ‚Äî –ó–∞–º–µ–Ω–∞ FFN –Ω–∞ —ç–∫—Å–ø–µ—Ä—Ç–æ–≤ + —Ä–æ—É—Ç–µ—Ä<br>‚Äî –†–∞–∑—Ä–µ–∂–µ–Ω–Ω–æ—Å—Ç—å: –∞–∫—Ç–∏–≤–∞—Ü–∏—è —Ç–æ–ª—å–∫–æ K —ç–∫—Å–ø–µ—Ä—Ç–æ–≤<br>‚Äî FLOPs vs –ø–∞—Ä–∞–º–µ—Ç—Ä—ã: –ø–æ—á–µ–º—É —ç—Ç–æ –≤–∞–∂–Ω–æ |
| **3. –ú–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è –∏ —Ç–∏–ø—ã —Ä–æ—É—Ç–µ—Ä–æ–≤** | 15 –º–∏–Ω | ‚Äî Token choice vs expert choice vs global assignment<br>‚Äî Top-K routing (—Å—Ç–∞–Ω–¥–∞—Ä—Ç)<br>‚Äî –ü—Ä–∏–º–µ—Ä—ã: hashing, softmax, gating, Z-loss<br>‚Äî –ü–æ—á–µ–º—É –æ–±—É—á–∞–µ–º—ã–π —Ä–æ—É—Ç–µ—Ä ‚Äî –Ω–µ –≤—Å–µ–≥–¥–∞ –ª—É—á—à–µ |
| **4. Fine-grained –∏ shared experts** | 10 –º–∏–Ω | ‚Äî –£–º–µ–Ω—å—à–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–∞ —ç–∫—Å–ø–µ—Ä—Ç–æ–≤ ‚Üí –±–æ–ª—å—à–µ —ç–∫—Å–ø–µ—Ä—Ç–æ–≤<br>‚Äî Shared experts: –ø–æ–ª—å–∑–∞ –∏ —Å–ø–æ—Ä—ã (DeepSeek vs OlMoE)<br>‚Äî –ê–±–ª—è—Ü–∏–∏: DeepSeek MoE, OlMoE |
| **5. –û–±—É—á–µ–Ω–∏–µ MoE: –±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∫–∞ –∏ —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å** | 15 –º–∏–Ω | ‚Äî –ü—Ä–æ–±–ª–µ–º–∞ ¬´–º—ë—Ä—Ç–≤—ã—Ö —ç–∫—Å–ø–µ—Ä—Ç–æ–≤¬ª<br>‚Äî Auxiliary loss (`f ¬∑ P`)<br>‚Äî Adaptive balancing (DeepSeek-V3: `b_i`)<br>‚Äî Z-loss, float32 –≤ —Ä–æ—É—Ç–µ—Ä–µ, –ø–µ—Ä–µ–æ–±—É—á–µ–Ω–∏–µ –ø—Ä–∏ fine-tuning |
| **6. –°–∏—Å—Ç–µ–º–Ω—ã–µ –∞—Å–ø–µ–∫—Ç—ã –∏ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞** | 10 –º–∏–Ω | ‚Äî Expert parallelism<br>‚Äî Top-M device routing (DeepSeek-V2)<br>‚Äî Token dropping ‚Üí –Ω–µ–¥–µ—Ç–µ—Ä–º–∏–Ω–∏–∑–º<br>‚Äî Sparse kernels (MegaBlocks) |
| **7. DeepSeek-V3: –∏—Ç–æ–≥–æ–≤–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞** | 10 –º–∏–Ω | ‚Äî –°—Ä–∞–≤–Ω–µ–Ω–∏–µ V1 ‚Üí V2 ‚Üí V3<br>‚Äî MLA (Multi-head Latent Attention)<br>‚Äî MTP (Multi-Token Prediction)<br>‚Äî –ò—Ç–æ–≥: ¬´–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –Ω–µ –º–µ–Ω—è–µ—Ç—Å—è, –∏–Ω–∂–µ–Ω–µ—Ä–∏—è ‚Äî –¥–∞¬ª |
| **8. –û–±—Å—É–∂–¥–µ–Ω–∏–µ –∏ —Å–µ–º–∏–Ω–∞—Ä** | 5 –º–∏–Ω | ‚Äî –û—Ç–≤–µ—Ç—ã –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã, –∑–∞–∫—Ä–µ–ø–ª–µ–Ω–∏–µ |

---

### üîë **–ö–ª—é—á–µ–≤—ã–µ –ø–æ–Ω—è—Ç–∏—è –∏ —Ç–µ—Ä–º–∏–Ω—ã**

- **Mixture of Experts (MoE)** ‚Äî –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å —Ä–∞–∑—Ä–µ–∂–µ–Ω–Ω–æ–π –∞–∫—Ç–∏–≤–∞—Ü–∏–µ–π –ø–æ–¥–º–æ–¥—É–ª–µ–π (—ç–∫—Å–ø–µ—Ä—Ç–æ–≤)  
- **Router / –†–æ—É—Ç–µ—Ä** ‚Äî –º–æ–¥—É–ª—å, –æ–ø—Ä–µ–¥–µ–ª—è—é—â–∏–π, –∫–∞–∫–∏–µ —ç–∫—Å–ø–µ—Ä—Ç—ã –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å –¥–ª—è —Ç–æ–∫–µ–Ω–∞  
- **Top-K routing** ‚Äî –≤—ã–±–æ—Ä K –ª—É—á—à–∏—Ö —ç–∫—Å–ø–µ—Ä—Ç–æ–≤ –Ω–∞ –æ—Å–Ω–æ–≤–µ –æ—Ü–µ–Ω–∫–∏ —Å—Ä–æ–¥—Å—Ç–≤–∞  
- **Fine-grained experts** ‚Äî —É–º–µ–Ω—å—à–µ–Ω–Ω—ã–µ –ø–æ —Ä–∞–∑–º–µ—Ä—É —ç–∫—Å–ø–µ—Ä—Ç—ã, –ø–æ–∑–≤–æ–ª—è—é—â–∏–µ —É–≤–µ–ª–∏—á–∏—Ç—å –∏—Ö —á–∏—Å–ª–æ  
- **Shared expert** ‚Äî FFN-–±–ª–æ–∫, –∞–∫—Ç–∏–≤–∏—Ä—É–µ–º—ã–π –≤—Å–µ–≥–¥–∞  
- **Auxiliary balancing loss** ‚Äî —Ä–µ–≥—É–ª—è—Ä–∏–∑–∞—Ç–æ—Ä –¥–ª—è —Ä–∞–≤–Ω–æ–º–µ—Ä–Ω–æ–≥–æ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Ç–æ–∫–µ–Ω–æ–≤ –ø–æ —ç–∫—Å–ø–µ—Ä—Ç–∞–º  
- **Expert parallelism** ‚Äî —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —ç–∫—Å–ø–µ—Ä—Ç–æ–≤ –ø–æ —Ä–∞–∑–Ω—ã–º GPU/TPU  
- **Token dropping** ‚Äî –æ—Ç–±—Ä–∞—Å—ã–≤–∞–Ω–∏–µ —Ç–æ–∫–µ–Ω–æ–≤ –ø—Ä–∏ –ø–µ—Ä–µ–≥—Ä—É–∑–∫–µ —ç–∫—Å–ø–µ—Ä—Ç–∞  
- **MLA (Multi-head Latent Attention)** ‚Äî —Å–∂–∞—Ç–∏–µ KV-cache —á–µ—Ä–µ–∑ latent-–≤–µ–∫—Ç–æ—Ä—ã  
- **MTP (Multi-Token Prediction)** ‚Äî –ø—Ä–æ–≥–Ω–æ–∑–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Ç–æ–∫–µ–Ω–æ–≤ –≤–ø–µ—Ä—ë–¥

---

### üí¨ **–°–µ–º–∏–Ω–∞—Ä –∏ –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –∑–∞–¥–∞–Ω–∏—è**  
*(–Ω–∞ 45‚Äì60 –º–∏–Ω –æ—Ç–¥–µ–ª—å–Ω–æ–≥–æ –∑–∞–Ω—è—Ç–∏—è –∏–ª–∏ –≤ —Ä–∞–º–∫–∞—Ö flipped classroom)*

#### **–ó–∞–¥–∞–Ω–∏–µ 1. –ê–Ω–∞–ª–∏–∑ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã**  
- –°—Ä–∞–≤–Ω–∏—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ Mixtral, DeepSeek-V1 –∏ Llama 4: —á–∏—Å–ª–æ —ç–∫—Å–ø–µ—Ä—Ç–æ–≤, –∞–∫—Ç–∏–≤–Ω—ã—Ö, —Ä–∞–∑–º–µ—Ä—ã, shared experts.  
- –û–±—ä—è—Å–Ω–∏—Ç–µ, –ø–æ—á–µ–º—É DeepSeek-V3 —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç —Ç—É –∂–µ MoE-—Å—Ç—Ä—É–∫—Ç—É—Ä—É, —á—Ç–æ –∏ V1.

#### **–ó–∞–¥–∞–Ω–∏–µ 2. –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–æ—Å—Ç–æ–≥–æ MoE**  
- –ù–∞ PyTorch/JAX —Ä–µ–∞–ª–∏–∑—É–π—Ç–µ –æ–¥–∏–Ω MoE-—Å–ª–æ–π —Å top-2 routing –∏ auxiliary loss.  
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, –∫–∞–∫ –º–µ–Ω—è–µ—Ç—Å—è —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–æ–≤ –ø–æ —ç–∫—Å–ø–µ—Ä—Ç–∞–º —Å/–±–µ–∑ balancing loss.

#### **–ó–∞–¥–∞–Ω–∏–µ 3. –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑**  
- –ü–æ—á–µ–º—É MoE –Ω–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç –≤ –∫–∞–∂–¥–æ–º —Å–ª–æ–µ? –ö–∞–∫–∏–µ –µ—Å—Ç—å –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—ã fine-tuning –¥–ª—è MoE?  
- –û–±—Å—É–¥–∏—Ç–µ —É—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ: *¬´–•–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–∞–∫ —Ä–æ—É—Ç–µ—Ä –¥–∞—ë—Ç –≤—ã–∏–≥—Ä—ã—à ‚Äî –∑–Ω–∞—á–∏—Ç, MoE —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–µ –∑–∞ —Å—á—ë—Ç –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω–æ–π –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏, –∞ –∑–∞ —Å—á—ë—Ç —Ä–∞–∑—Ä–µ–∂–µ–Ω–Ω–æ—Å—Ç–∏¬ª*.

#### **–ó–∞–¥–∞–Ω–∏–µ 4. –°–∏—Å—Ç–µ–º–Ω–æ–µ –º—ã—à–ª–µ–Ω–∏–µ**  
- –†–∞—Å—Å—á–∏—Ç–∞–π—Ç–µ, —Å–∫–æ–ª—å–∫–æ GPU –ø–æ–Ω–∞–¥–æ–±–∏—Ç—Å—è –¥–ª—è –∏–Ω—Ñ–µ—Ä–µ–Ω—Å–∞ DeepSeek-V3 (37B –∞–∫—Ç–∏–≤–Ω—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤, 671B –æ–±—â–∏—Ö), –µ—Å–ª–∏ –Ω–∞ –æ–¥–∏–Ω GPU –ø–æ–º–µ—â–∞–µ—Ç—Å—è 20B –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤.  
- –ö–∞–∫ top-M device routing —Å–Ω–∏–∂–∞–µ—Ç –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏–æ–Ω–Ω—ã–µ –∑–∞—Ç—Ä–∞—Ç—ã?

---

### üìö **–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º–∞—è –ª–∏—Ç–µ—Ä–∞—Ç—É—Ä–∞**

#### **–û—Å–Ω–æ–≤–Ω–∞—è:**
1. Fedus, W. et al. (2022). *Switch Transformers: Scaling to Trillion Parameter Models with Simple and Efficient Sparsity*.  
2. OlMoE Paper (AI2, 2024) ‚Äî [arXiv:2405.xxxxx] ‚Äî —Ç—â–∞—Ç–µ–ª—å–Ω—ã–µ –∞–±–ª—è—Ü–∏–∏ MoE.  
3. DeepSeek MoE (2023), DeepSeek-V2/V3 (2024) ‚Äî —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –æ—Ç—á—ë—Ç—ã.  
4. Qwen Technical Report (2023‚Äì2024) ‚Äî upcycling dense ‚Üí MoE.

#### **–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ:**
- Clark, K. et al. (2020). *Pre-training with Mixture-of-Experts* ‚Äî —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ RL, hashing –∏ top-K.  
- Shazeer, N. (2017). *Outrageously Large Neural Networks* ‚Äî —Ä–∞–Ω–Ω—è—è —Ä–∞–±–æ—Ç–∞ –ø–æ MoE.  
- MegaBlocks (Stanford CRFM) ‚Äî –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ –¥–ª—è —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–≥–æ MoE –Ω–∞ GPU.

---

### üîó **–ü–æ–ª–µ–∑–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã**

- **Hugging Face**: –º–æ–¥–µ–ª–∏ `deepseek-ai/deepseek-moe-16b`, `mistralai/Mixtral-8x7B`  
- **GitHub**:  
  - [MegaBlocks](https://github.com/stanford-futuredata/megablocks)  
  - [DeepSeek Official Repo](https://github.com/deepseek-ai)  
- **–î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏**: –∑–∞–ø—É—Å–∫ MoE —á–µ—Ä–µ–∑ Together.ai –∏–ª–∏ vLLM (—Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π MoE)

---

### üí° **–ú–µ—Ç–æ–¥–∏—á–µ—Å–∫–∏–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—é**

- **–ê–∫—Ü–µ–Ω—Ç –Ω–∞ –∏–Ω—Ç—É–∏—Ü–∏–∏**: MoE ‚Äî –Ω–µ –ø—Ä–æ ¬´—ç–∫—Å–ø–µ—Ä—Ç–æ–≤ –ø–æ —Ç–µ–º–∞–º¬ª, –∞ –ø—Ä–æ **—Ä–∞–∑—Ä–µ–∂–µ–Ω–Ω–æ–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ —ë–º–∫–æ—Å—Ç–∏ –º–æ–¥–µ–ª–∏**.  
- **–°–≤—è–∑—å —Å –ø—Ä–∞–∫—Ç–∏–∫–æ–π**: –ø–æ–∫–∞–∂–∏—Ç–µ, –∫–∞–∫ MoE —Å–Ω–∏–∂–∞—é—Ç —Å—Ç–æ–∏–º–æ—Å—Ç—å –∏–Ω—Ñ–µ—Ä–µ–Ω—Å–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, DeepSeek-V3 vs dense 70B).  
- **–í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏**: –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å—Ö–µ–º—ã FFN ‚Üí MoE, –≥—Ä–∞—Ñ–∏–∫–∏ loss –ø—Ä–∏ —Ä–∞–∑–Ω—ã—Ö K, –¥–∏–∞–≥—Ä–∞–º–º—ã —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Ç–æ–∫–µ–Ω–æ–≤.  
- **–ú–µ–∂–¥–∏—Å—Ü–∏–ø–ª–∏–Ω–∞—Ä–Ω—ã–π —É–≥–æ–ª**: –≤ –º–µ–¥–∏—Ü–∏–Ω—Å–∫–æ–π –ò–ò ‚Äî MoE –º–æ–≥—É—Ç —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å—Å—è –Ω–∞ —Ç–∏–ø–∞—Ö –ø–∞—Ü–∏–µ–Ω—Ç–æ–≤, –±–∏–æ–º–∞—Ä–∫–µ—Ä–∞—Ö –∏ —Ç.–¥. (—Ö–æ—Ç—è –≤ –±–∞–∑–æ–≤–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ —ç—Ç–æ–≥–æ –Ω–µ—Ç!).

---

## **–ü–ª–∞–Ω –ª–µ–∫—Ü–∏–∏: ¬´–ú–æ–¥–µ–ª–∏ —Å –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–æ–π Mixture of Experts (MoE)¬ª**

### **1. –í–≤–µ–¥–µ–Ω–∏–µ –∏ –∞–∫—Ç—É–∞–ª—å–Ω–æ—Å—Ç—å MoE**
- MoE –ø–µ—Ä–µ—à–ª–∏ –∏–∑ ¬´–±–æ–Ω—É—Å–Ω–æ–π¬ª —Ç–µ–º—ã –≤ –∫–ª—é—á–µ–≤—É—é —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—é 2025 –≥–æ–¥–∞.
- –ü—Ä–∏–º–µ—Ä—ã —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö MoE-–º–æ–¥–µ–ª–µ–π:
  - GPT-4 (–ø—Ä–µ–¥–ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω–æ ‚Äî GPT-MoE-1BT)
  - Grok, DeepSeek, Llama 4 –∏ –¥—Ä.
- –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–æ MoE: –±–æ–ª—å—à–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –ø—Ä–∏ —Ç–æ–º –∂–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–µ FLOPs ‚Üí –≤—ã—à–µ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –æ–±—É—á–µ–Ω–∏—è –∏ –≤—ã–≤–æ–¥–∞.

---

### **2. –ë–∞–∑–æ–≤–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ MoE**
- –ó–∞–º–µ–Ω–∞ **–ø–ª–æ—Ç–Ω–æ–≥–æ (dense) FFN-–±–ª–æ–∫–∞** –≤ —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–µ—Ä–µ –Ω–∞ **—Ä–∞–∑—Ä–µ–∂–µ–Ω–Ω—ã–π –±–ª–æ–∫ —Å —ç–∫—Å–ø–µ—Ä—Ç–∞–º–∏**.
- –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:
  - **–≠–∫—Å–ø–µ—Ä—Ç—ã** ‚Äî –∫–æ–ø–∏–∏ / –º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏–∏ FFN.
  - **–†–æ—É—Ç–µ—Ä (router)** ‚Äî –º–æ–¥—É–ª—å –≤—ã–±–æ—Ä–∞ —ç–∫—Å–ø–µ—Ä—Ç–æ–≤ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ç–æ–∫–µ–Ω–∞.
- –û—Å–Ω–æ–≤–Ω–∞—è –∏–¥–µ—è: **–∞–∫—Ç–∏–≤–∞—Ü–∏—è —Ç–æ–ª—å–∫–æ —á–∞—Å—Ç–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤** –Ω–∞ –∫–∞–∂–¥–æ–º —à–∞–≥–µ.

---

### **3. –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ MoE**
- **–ü–æ–≤—ã—à–µ–Ω–∏–µ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –ø—Ä–∏ —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–µ FLOPs**.
- –ë–æ–ª–µ–µ –±—ã—Å—Ç—Ä–æ–µ —É–º–µ–Ω—å—à–µ–Ω–∏–µ perplexity –∏ loss –ø—Ä–∏ –æ–±—É—á–µ–Ω–∏–∏.
- –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏:
  - –†–∞–±–æ—Ç—ã Google (Fedus et al., 2022)
  - –ò—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è AI2 (OlMoE)
  - DeepSeek-V2 –∏ –¥—Ä—É–≥–∏–µ –ø—Ä–æ–º—ã—à–ª–µ–Ω–Ω—ã–µ –ø—Ä–∏–º–µ—Ä—ã.

---

### **4. –°–∏—Å—Ç–µ–º–Ω—ã–µ –∏ –∏–Ω–∂–µ–Ω–µ—Ä–Ω—ã–µ —Å–ª–æ–∂–Ω–æ—Å—Ç–∏ MoE**
- **–ü—Ä–æ–±–ª–µ–º–∞ –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç–∏**: MoE –æ—Å–æ–±–µ–Ω–Ω–æ –≤—ã–≥–æ–¥–Ω—ã –ø—Ä–∏ –æ–±—É—á–µ–Ω–∏–∏ –Ω–∞ –º–Ω–æ–∂–µ—Å—Ç–≤–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤.
- **–≠–∫—Å–ø–µ—Ä—Ç-–ø–∞—Ä–∞–ª–ª–µ–ª–∏–∑–º**: –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω–∞—è –¥–µ–∫–æ–º–ø–æ–∑–∏—Ü–∏—è –º–æ–¥–µ–ª–∏ –ø–æ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞–º.
- –°–ª–æ–∂–Ω–æ—Å—Ç–∏:
  - –ú–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö
  - –ë–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∫–∞ –Ω–∞–≥—Ä—É–∑–∫–∏
  - –ù–µ—Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å –æ–±—É—á–µ–Ω–∏—è
  - –°—Ç–æ–∏–º–æ—Å—Ç—å –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã

---

### **5. –ú–µ—Ö–∞–Ω–∏–∑–º—ã –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏ (routing)**
#### **5.1. –¢–∏–ø—ã –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏**
- **Token choice** (–Ω–∞–∏–±–æ–ª–µ–µ —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—ë–Ω–Ω—ã–π): —Ç–æ–∫–µ–Ω –≤—ã–±–∏—Ä–∞–µ—Ç —Ç–æ–ø‚ÄëK —ç–∫—Å–ø–µ—Ä—Ç–æ–≤.
- **Expert choice**: –∫–∞–∂–¥—ã–π —ç–∫—Å–ø–µ—Ä—Ç –≤—ã–±–∏—Ä–∞–µ—Ç —Ç–æ–ø‚ÄëK —Ç–æ–∫–µ–Ω–æ–≤.
- **Global assignment**: –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∫–∞–∫ –∑–∞–¥–∞—á–∞ –ª–∏–Ω–µ–π–Ω–æ–≥–æ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è (—Ä–µ–¥–∫–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è).

#### **5.2. –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏**
- **Top-K routing**: —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –ø–æ–¥—Ö–æ–¥ (Switch Transformer, Mixtral, Grok –∏ –¥—Ä.).
- **–•–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ** –∫–∞–∫ –±–∞–∑–æ–≤—ã–π —Ä–æ—É—Ç–µ—Ä ‚Üí –≤—Å—ë –µ—â—ë –¥–∞—ë—Ç –≤—ã–∏–≥—Ä—ã—à.
- **RL, –±–∞–Ω–¥–∏—Ç–Ω—ã–µ –∞–ª–≥–æ—Ä–∏—Ç–º—ã, —Å—Ç–æ—Ö–∞—Å—Ç–∏—á–µ—Å–∫–æ–µ –¥–∂–∏—Ç—Ç–µ—Ä–∏–Ω–≥–æ–≤–∞–Ω–∏–µ** ‚Äî –∏—Å—Å–ª–µ–¥–æ–≤–∞–ª–∏—Å—å, –Ω–æ –Ω–µ –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è –º–∞—Å—Å–æ–≤–æ.

#### **5.3. –î–µ—Ç–∞–ª–∏ —Ä–æ—É—Ç–µ—Ä–∞**
- –õ—ë–≥–∫–∏–π –ª–∏–Ω–µ–π–Ω—ã–π —Å–ª–æ–π + softmax ‚Üí –æ—Ü–µ–Ω–∫–∞ ¬´—Å—Ä–æ–¥—Å—Ç–≤–∞¬ª —Ç–æ–∫–µ–Ω–∞ –∫ —ç–∫—Å–ø–µ—Ä—Ç–∞–º.
- –í–µ—Å–∞ –ø–æ—Å–ª–µ top-K –º–æ–≥—É—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –∫–∞–∫ –≥–µ–π—Ç—ã.
- –ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è (softmax –¥–æ/–ø–æ—Å–ª–µ top-K) ‚Äî —ç—Å—Ç–µ—Ç–∏—á–µ—Å–∫–∏–π –∏ –∏–Ω–∂–µ–Ω–µ—Ä–Ω—ã–π –≤—ã–±–æ—Ä.

---

### **6. –£–ª—É—á—à–µ–Ω–∏—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã MoE**
#### **6.1. Fine-grained experts**
- –£–º–µ–Ω—å—à–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–∞ –∫–∞–∂–¥–æ–≥–æ —ç–∫—Å–ø–µ—Ä—Ç–∞ ‚Üí –º–æ–∂–Ω–æ –∏–º–µ—Ç—å –±–æ–ª—å—à–µ —ç–∫—Å–ø–µ—Ä—Ç–æ–≤.
- –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–æ –≤ DeepSeek –∏ OlMoE: —É–ª—É—á—à–∞–µ—Ç –∫–∞—á–µ—Å—Ç–≤–æ –ø—Ä–∏ —Ç–æ–º –∂–µ FLOP budget.

#### **6.2. Shared experts**
- –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ ¬´–æ–±—â–∏–µ¬ª FFN-–±–ª–æ–∫–∏, –∞–∫—Ç–∏–≤–∏—Ä—É–µ–º—ã–µ –≤—Å–µ–≥–¥–∞.
- DeepSeek: –∏—Å–ø–æ–ª—å–∑—É–µ—Ç shared experts.
- OlMoE: –Ω–µ –≤—ã—è–≤–∏–ª –∑–Ω–∞—á–∏–º–æ–≥–æ –≤—ã–∏–≥—Ä—ã—à–∞ ‚Üí –ø—Ä–∞–∫—Ç–∏–∫–∞ –Ω–µ–æ–¥–Ω–æ–∑–Ω–∞—á–Ω–∞.

---

### **7. –û–±—É—á–µ–Ω–∏–µ MoE: –±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∫–∞ –∏ —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å**
#### **7.1. –ü—Ä–æ–±–ª–µ–º–∞ –±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∫–∏**
- –ë–µ–∑ –∫–æ–Ω—Ç—Ä–æ–ª—è ‚Äî –æ–¥–∏–Ω –∏–ª–∏ –¥–≤–∞ —ç–∫—Å–ø–µ—Ä—Ç–∞ ¬´–∑–∞–±–∏—Ä–∞—é—Ç¬ª –≤—Å—é –Ω–∞–≥—Ä—É–∑–∫—É ‚Üí –æ—Å—Ç–∞–ª—å–Ω—ã–µ –º–µ—Ä—Ç–≤—ã.
- –†–µ—à–µ–Ω–∏–µ: **auxiliary balancing loss** (`f ¬∑ P`, –≥–¥–µ `f` ‚Äî —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ, `P` ‚Äî –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–Ω–æ–µ).

#### **7.2. –ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ –º–µ—Ç–æ–¥—ã –±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∫–∏**
- **Per-expert balancing** (–Ω–∞ —É—Ä–æ–≤–Ω–µ –±–∞—Ç—á–∞)
- **Per-device balancing** ‚Äî –¥–ª—è —Å–∏—Å—Ç–µ–º–Ω–æ–π —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏
- **DeepSeek-V3**: 
  - **Auxiliary loss‚Äëfree balancing** —á–µ—Ä–µ–∑ –∞–¥–∞–ø—Ç–∏–≤–Ω—ã–µ —Å–º–µ—â–µ–Ω–∏—è `b_i`
  - –ù–æ —Å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π **sequence-wise balancing loss** –Ω–∞ –ø—Ä–∞–∫—Ç–∏–∫–µ

#### **7.3. –°—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å –æ–±—É—á–µ–Ω–∏—è**
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ **float32** –≤ —Ä–æ—É—Ç–µ—Ä–µ
- **Z-loss** –¥–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è –≤–∑—Ä—ã–≤–æ–≤ softmax
- –ü—Ä–æ–±–ª–µ–º—ã –ø—Ä–∏ fine-tuning: –ø–µ—Ä–µ–æ–±—É—á–µ–Ω–∏–µ ‚Üí —Ä–µ—à–∞–µ—Ç—Å—è –±–æ–ª—å—à–∏–º –æ–±—ä—ë–º–æ–º SFT-–¥–∞–Ω–Ω—ã—Ö

---

### **8. –≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –∏ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ**
- **MoE –≤ –∏–Ω—Ñ–µ—Ä–µ–Ω—Å–µ**: –º–µ–Ω—å—à–µ –∞–∫—Ç–∏–≤–Ω—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ ‚Üí –¥–µ—à–µ–≤–ª–µ –≤—ã–≤–æ–¥.
- **MoE –≤ –æ–±—É—á–µ–Ω–∏–∏**: –≤—ã–∏–≥—Ä—ã—à –ø—Ä–∏ –±–æ–ª—å—à–∏—Ö FLOP budgets.
- **–¢–æ–∫–µ–Ω-–¥—Ä–æ–ø–ø–∏–Ω–≥**: —Å—Ç–∞–±–∏–ª–∏–∑–∞—Ü–∏—è –ø–µ—Ä–µ–≥—Ä—É–∑–∫–∏ —ç–∫—Å–ø–µ—Ä—Ç–æ–≤ ‚Üí –∏—Å—Ç–æ—á–Ω–∏–∫ –Ω–µ–¥–µ—Ç–µ—Ä–º–∏–Ω–∏–∑–º–∞ –¥–∞–∂–µ –ø—Ä–∏ `temperature=0`.

---

### **9. –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ —Ç–µ—Ö–Ω–∏–∫–∏ –∏ –∫–µ–π—Å—ã**
#### **9.1. Upscaling / Upcycling**
- –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ dense-–º–æ–¥–µ–ª–∏ –≤ MoE:
  - –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ FFN ‚Üí –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —ç–∫—Å–ø–µ—Ä—Ç–æ–≤
  - –û–±—É—á–µ–Ω–∏–µ —Ä–æ—É—Ç–µ—Ä–∞ —Å –Ω—É–ª—è
- –ü—Ä–∏–º–µ—Ä—ã: Qwen, MiniCPM, DeepSeek

#### **9.2. –≠–≤–æ–ª—é—Ü–∏—è DeepSeek MoE**
- **V1**: 16B –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤, 64 fine-grained + 2 shared, top-6 routing
- **V2**: 236B –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤, –≤–≤–µ–¥–µ–Ω–∏–µ **top-M device routing** –¥–ª—è —Å–Ω–∏–∂–µ–Ω–∏—è –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏–æ–Ω–Ω—ã—Ö –∑–∞—Ç—Ä–∞—Ç
- **V3**: 671B –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤, —É–ª—É—á—à–µ–Ω–Ω—ã–π —Ä–æ—É—Ç–µ—Ä (sigmoid –≤–º–µ—Å—Ç–æ softmax), adaptive balancing, –æ—Ç–∫–∞–∑ –æ—Ç –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö aux losses

---

### **10. –î—Ä—É–≥–∏–µ –∏–Ω–Ω–æ–≤–∞—Ü–∏–∏ –≤ DeepSeek-V3 (–Ω–µ-MoE —á–∞—Å—Ç–∏)**
- **MLA (Multi-head Latent Attention)**:
  - –°–∂–∞—Ç–∏–µ KV-cache —á–µ—Ä–µ–∑ latent-–≤–µ–∫—Ç–æ—Ä—ã
  - –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å RoPE (—Å –æ–≥–æ–≤–æ—Ä–∫–∞–º–∏)
- **MTP (Multi-Token Prediction)**:
  - –ü—Ä–æ–≥–Ω–æ–∑–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Ç–æ–∫–µ–Ω–æ–≤ –≤–ø–µ—Ä—ë–¥
  - –ù–∞ –ø—Ä–∞–∫—Ç–∏–∫–µ ‚Äî —Ç–æ–ª—å–∫–æ +1 —Ç–æ–∫–µ–Ω

---

### **11. –ó–∞–∫–ª—é—á–µ–Ω–∏–µ**
- MoE ‚Äî **—Å—Ç–∞–Ω–¥–∞—Ä—Ç –¥–µ-—Ñ–∞–∫—Ç–æ** –¥–ª—è —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã—Ö –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º—ã—Ö LLM.
- –ù–µ—Å–º–æ—Ç—Ä—è –Ω–∞ —Å–ª–æ–∂–Ω–æ—Å—Ç—å, **—ç–º–ø–∏—Ä–∏—á–µ—Å–∫–∏ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥—ë–Ω–Ω—ã–π –≤—ã–∏–≥—Ä—ã—à** –¥–µ–ª–∞–µ—Ç MoE –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–π —Ç–µ–º–æ–π –¥–ª—è –∏–∑—É—á–µ–Ω–∏—è.
- –ë—É–¥—É—â–µ–µ: —É–ø—Ä–æ—â–µ–Ω–∏–µ, —Å—Ç–∞–±–∏–ª–∏–∑–∞—Ü–∏—è, —à–∏—Ä–æ–∫–æ–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –≤ open-source –∏ –ø—Ä–æ–º—ã—à–ª–µ–Ω–Ω–æ—Å—Ç–∏.

---

## üìù **–ö–æ–Ω—Å–ø–µ–∫—Ç –¥–ª—è —Å—Ç—É–¥–µ–Ω—Ç–æ–≤: ¬´–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ Mixture of Experts (MoE)¬ª**

### 1. –ß—Ç–æ —Ç–∞–∫–æ–µ MoE?
- **Mixture of Experts (MoE)** ‚Äî —ç—Ç–æ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–π –ø–∞—Ç—Ç–µ—Ä–Ω –≤ —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–µ—Ä–∞—Ö, –≥–¥–µ **feedforward-–±–ª–æ–∫–∏ (FFN)** –∑–∞–º–µ–Ω—è—é—Ç—Å—è –Ω–∞–±–æ—Ä–æ–º **¬´—ç–∫—Å–ø–µ—Ä—Ç–æ–≤¬ª**, –∏–∑ –∫–æ—Ç–æ—Ä—ã—Ö –Ω–∞ –∫–∞–∂–¥–æ–º —à–∞–≥–µ –∞–∫—Ç–∏–≤–∏—Ä—É—é—Ç—Å—è **–ª–∏—à—å –Ω–µ—Å–∫–æ–ª—å–∫–æ**.
- –û—Å–Ω–æ–≤–Ω–∞—è —Ü–µ–ª—å: **—É–≤–µ–ª–∏—á–∏—Ç—å —á–∏—Å–ª–æ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –ø—Ä–∏ —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–º FLOP-–±—é–¥–∂–µ—Ç–µ**.
- **–í–∞–∂–Ω–æ:** —ç–∫—Å–ø–µ—Ä—Ç—ã **–Ω–µ —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä—É—é—Ç—Å—è –ø–æ –¥–æ–º–µ–Ω–∞–º** (–Ω–∞–ø—Ä–∏–º–µ—Ä, –∫–æ–¥ vs. —Ç–µ–∫—Å—Ç), –∞ –ø—Ä–æ—Å—Ç–æ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—é—Ç —Ä–∞–∑–Ω—ã–µ –ø–æ–¥–º–Ω–æ–∂–µ—Å—Ç–≤–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤.

### 2. –ü–æ—á–µ–º—É MoE –≤–∞–∂–Ω—ã –≤ 2025 –≥–æ–¥—É?
- –í—Å–µ –≤–µ–¥—É—â–∏–µ –º–æ–¥–µ–ª–∏ (GPT-4, Grok, Llama 4, DeepSeek-V3, Qwen) –∏—Å–ø–æ–ª—å–∑—É—é—Ç MoE.
- **–≠–º–ø–∏—Ä–∏—á–µ—Å–∫–∏ –¥–æ–∫–∞–∑–∞–Ω–æ**: –ø—Ä–∏ –æ–¥–∏–Ω–∞–∫–æ–≤–æ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–µ FLOPs MoE-–º–æ–¥–µ–ª–∏:
  - –ë—ã—Å—Ç—Ä–µ–µ —Å–Ω–∏–∂–∞—é—Ç perplexity –∏ loss;
  - –î–æ—Å—Ç–∏–≥–∞—é—Ç –ª—É—á—à–µ–≥–æ –∫–∞—á–µ—Å—Ç–≤–∞ –Ω–∞ –±–µ–Ω—á–º–∞—Ä–∫–∞—Ö (MMLU –∏ –¥—Ä.);
  - –≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–µ–µ –º–∞—Å—à—Ç–∞–±–∏—Ä—É—é—Ç—Å—è.
- MoE ‚Äî **—Å—Ç–∞–Ω–¥–∞—Ä—Ç –¥–µ-—Ñ–∞–∫—Ç–æ** –¥–ª—è —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –º–∞—Å—à—Ç–∞–±–Ω—ã—Ö LLM.

### 3. –ë–∞–∑–æ–≤–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ MoE
- –í–º–µ—Å—Ç–æ –æ–¥–Ω–æ–≥–æ FFN ‚Äî **N —ç–∫—Å–ø–µ—Ä—Ç–æ–≤** (–æ–±—ã—á–Ω–æ –∫–æ–ø–∏–∏ –∏–ª–∏ –º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏–∏ FFN).
- **–†–æ—É—Ç–µ—Ä** (router) ‚Äî –ª—ë–≥–∫–∏–π –ª–∏–Ω–µ–π–Ω—ã–π —Å–ª–æ–π, –∫–æ—Ç–æ—Ä—ã–π –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ç–æ–∫–µ–Ω–∞ –æ—Ü–µ–Ω–∏–≤–∞–µ—Ç ¬´–∞—Ñ—Ñ–∏–Ω–Ω–æ—Å—Ç—å¬ª –∫ —ç–∫—Å–ø–µ—Ä—Ç–∞–º.
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è **top-K –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è**: –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ç–æ–∫–µ–Ω–∞ –≤—ã–±–∏—Ä–∞—é—Ç—Å—è **K –ª—É—á—à–∏—Ö —ç–∫—Å–ø–µ—Ä—Ç–æ–≤**.
- –í—ã—Ö–æ–¥: –≤–∑–≤–µ—à–µ–Ω–Ω–∞—è —Å—É–º–º–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –≤—ã–±—Ä–∞–Ω–Ω—ã—Ö —ç–∫—Å–ø–µ—Ä—Ç–æ–≤.

### 4. –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ MoE
- **–ü–æ–≤—ã—à–µ–Ω–∏–µ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏**: –±–æ–ª—å—à–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ ‚Üí –±–æ–ª—å—à–µ —ë–º–∫–æ—Å—Ç–∏ –º–æ–¥–µ–ª–∏ ‚Üí –ª—É—á—à–µ –æ–±–æ–±—â–µ–Ω–∏–µ.
- **–ï—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω—ã–π –ø–∞—Ä–∞–ª–ª–µ–ª–∏–∑–º**: –∫–∞–∂–¥—ã–π —ç–∫—Å–ø–µ—Ä—Ç –º–æ–∂–Ω–æ —Ä–∞–∑–º–µ—Å—Ç–∏—Ç—å –Ω–∞ –æ—Ç–¥–µ–ª—å–Ω–æ–º GPU/TPU ‚Üí **expert parallelism**.
- **–≠–∫–æ–Ω–æ–º–∏—è –ø—Ä–∏ –∏–Ω—Ñ–µ—Ä–µ–Ω—Å–µ**: –∞–∫—Ç–∏–≤–∏—Ä—É—é—Ç—Å—è —Ç–æ–ª—å–∫–æ K —ç–∫—Å–ø–µ—Ä—Ç–æ–≤ ‚Üí –º–µ–Ω—å—à–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏–π, –º–µ–Ω—å—à–µ —ç–Ω–µ—Ä–≥–æ–ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ.

### 5. –¢–∏–ø—ã –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏
| –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ | –°—Ç–∞—Ç—É—Å |
|-----|--------|--------|
| **Token choice** | –ö–∞–∂–¥—ã–π —Ç–æ–∫–µ–Ω –≤—ã–±–∏—Ä–∞–µ—Ç top-K —ç–∫—Å–ø–µ—Ä—Ç–æ–≤ | **–î–æ–º–∏–Ω–∏—Ä—É—é—â–∏–π –ø–æ–¥—Ö–æ–¥** (Mixtral, DeepSeek, Qwen) |
| **Expert choice** | –ö–∞–∂–¥—ã–π —ç–∫—Å–ø–µ—Ä—Ç –≤—ã–±–∏—Ä–∞–µ—Ç top-K —Ç–æ–∫–µ–Ω–æ–≤ | –ë–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∫–∞ –Ω–∞–≥—Ä—É–∑–∫–∏ –ª—É—á—à–µ, –Ω–æ —Ö—É–∂–µ –∫–∞—á–µ—Å—Ç–≤–æ |
| **Global assignment** | –û–ø—Ç–∏–º–∞–ª—å–Ω–æ–µ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ (–ª–∏–Ω–µ–π–Ω–æ–µ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ) | –¢–µ–æ—Ä–µ—Ç–∏—á–µ—Å–∫–∏ –∫—Ä–∞—Å–∏–≤–æ, –Ω–æ –¥–æ—Ä–æ–≥–æ ‚Üí —Ä–µ–¥–∫–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è |

> **–ò–Ω—Ç–µ—Ä–µ—Å–Ω—ã–π —Ñ–∞–∫—Ç**: –¥–∞–∂–µ **—Ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ** (–ø–æ–ª–Ω–æ—Å—Ç—å—é –Ω–µ–æ–±—É—á–∞–µ–º—ã–π —Ä–æ—É—Ç–µ—Ä) –¥–∞—ë—Ç –≤—ã–∏–≥—Ä—ã—à! –≠—Ç–æ –≥–æ–≤–æ—Ä–∏—Ç –æ —Ç–æ–º, —á—Ç–æ **—Ä–∞–∑—Ä–µ–∂–µ–Ω–Ω–æ—Å—Ç—å —Å–∞–º–∞ –ø–æ —Å–µ–±–µ –ø–æ–ª–µ–∑–Ω–∞**.

### 6. –£–ª—É—á—à–µ–Ω–∏—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã
- **Fine-grained experts**: —É–º–µ–Ω—å—à–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–∞ –∫–∞–∂–¥–æ–≥–æ —ç–∫—Å–ø–µ—Ä—Ç–∞ ‚Üí –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å **–±–æ–ª—å—à–µ —ç–∫—Å–ø–µ—Ä—Ç–æ–≤** –±–µ–∑ —Ä–æ—Å—Ç–∞ FLOPs.
- **Shared experts**: –æ–¥–∏–Ω –∏–ª–∏ –Ω–µ—Å–∫–æ–ª—å–∫–æ FFN, –∞–∫—Ç–∏–≤–∏—Ä—É–µ–º—ã—Ö **–≤—Å–µ–≥–¥–∞**, –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ–±—â–µ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏.
  - DeepSeek: 2 shared experts + 64 fine-grained.
  - OlMoE: –Ω–µ –Ω–∞—à—ë–ª –∑–Ω–∞—á–∏–º–æ–≥–æ –≤—ã–∏–≥—Ä—ã—à–∞ –æ—Ç shared experts.

### 7. –ü—Ä–æ–±–ª–µ–º—ã –æ–±—É—á–µ–Ω–∏—è
#### **7.1. –î–∏—Å–±–∞–ª–∞–Ω—Å —ç–∫—Å–ø–µ—Ä—Ç–æ–≤**
- –ë–µ–∑ –∫–æ–Ω—Ç—Ä–æ–ª—è: 1‚Äì2 —ç–∫—Å–ø–µ—Ä—Ç–∞ –ø–æ–ª—É—á–∞—é—Ç –ø–æ—á—Ç–∏ –≤—Å—é –Ω–∞–≥—Ä—É–∑–∫—É ‚Üí –æ—Å—Ç–∞–ª—å–Ω—ã–µ ¬´—É–º–∏—Ä–∞—é—Ç¬ª.
- **–†–µ—à–µ–Ω–∏–µ**: **auxiliary balancing loss** (`f ¬∑ P`), –≥–¥–µ:
  - `f` ‚Äî –¥–æ–ª—è —Ç–æ–∫–µ–Ω–æ–≤, —Ä–µ–∞–ª—å–Ω–æ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã—Ö —ç–∫—Å–ø–µ—Ä—Ç—É;
  - `P` ‚Äî –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å, –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–Ω–∞—è —Ä–æ—É—Ç–µ—Ä–æ–º.
- DeepSeek-V3: **adaptive balancing** —á–µ—Ä–µ–∑ —Å–º–µ—â–µ–Ω–∏—è `b_i`, —Ä–µ–≥—É–ª–∏—Ä—É–µ–º—ã–µ –æ–Ω–ª–∞–π–Ω.

#### **7.2. –ù–µ—Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å**
- –†–æ—É—Ç–µ—Ä –æ–±—É—á–∞–µ—Ç—Å—è –∫–æ—Å–≤–µ–Ω–Ω–æ ‚Üí –≥—Ä–∞–¥–∏–µ–Ω—Ç—ã —Å–ª–∞–±—ã–µ.
- **–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–∏—ë–º—ã**:
  - –†–æ—É—Ç–µ—Ä –≤ **float32**;
  - **Z-loss** –¥–ª—è —Å—Ç–∞–±–∏–ª–∏–∑–∞—Ü–∏–∏ softmax;
  - –ò–∑–±–µ–≥–∞—Ç—å –ø–µ—Ä–µ–æ–±—É—á–µ–Ω–∏—è –ø—Ä–∏ fine-tuning ‚Üí **–±–æ–ª—å—à–∏–µ SFT-–¥–∞—Ç–∞—Å–µ—Ç—ã** (–Ω–∞–ø—Ä–∏–º–µ—Ä, 1.4M –ø—Ä–∏–º–µ—Ä–æ–≤ —É DeepSeek).

### 8. –°–∏—Å—Ç–µ–º–Ω—ã–µ –∞—Å–ø–µ–∫—Ç—ã
- **Expert parallelism**: —ç–∫—Å–ø–µ—Ä—Ç—ã —Ä–∞—Å–ø—Ä–µ–¥–µ–ª—è—é—Ç—Å—è –ø–æ GPU ‚Üí —Ç—Ä–µ–±—É–µ—Ç —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–π –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏ –∏ –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏–∏.
- **–°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏**:
  - –°–ø–∞—Ä—Å–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –Ω–∞ GPU (MegaBlocks);
  - **Top-M device routing** (DeepSeek-V2): —Å–Ω–∞—á–∞–ª–∞ –≤—ã–±–∏—Ä–∞—é—Ç—Å—è top-M —É—Å—Ç—Ä–æ–π—Å—Ç–≤, –ø–æ—Ç–æ–º top-K —ç–∫—Å–ø–µ—Ä—Ç–æ–≤ –Ω–∞ –∫–∞–∂–¥–æ–º ‚Üí —Å–Ω–∏–∂–∞–µ—Ç –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏–æ–Ω–Ω—ã–µ –∑–∞—Ç—Ä–∞—Ç—ã.
- **Token dropping**: –µ—Å–ª–∏ —ç–∫—Å–ø–µ—Ä—Ç –ø–µ—Ä–µ–≥—Ä—É–∂–µ–Ω ‚Üí —Ç–æ–∫–µ–Ω—ã –æ—Ç–±—Ä–∞—Å—ã–≤–∞—é—Ç—Å—è ‚Üí **–Ω–µ–¥–µ—Ç–µ—Ä–º–∏–Ω–∏–∑–º –¥–∞–∂–µ –ø—Ä–∏ `temperature=0`**.

### 9. –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ —Ç–µ—Ö–Ω–∏–∫–∏
- **Upscaling / Upcycling**: –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ dense-–º–æ–¥–µ–ª–∏ –≤ MoE:
  - FFN ‚Üí –∫–æ–ø–∏—Ä—É—é—Ç—Å—è –∫–∞–∫ —ç–∫—Å–ø–µ—Ä—Ç—ã;
  - –†–æ—É—Ç–µ—Ä –æ–±—É—á–∞–µ—Ç—Å—è —Å –Ω—É–ª—è.
  - –≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ –¥–ª—è **–¥–µ—à—ë–≤–æ–≥–æ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è** (MiniCPM, Qwen, DeepSeek).

### 10. Evolution: DeepSeek MoE ‚Üí V3
| –í–µ—Ä—Å–∏—è | –ü–∞—Ä–∞–º–µ—Ç—Ä—ã | –ê–∫—Ç–∏–≤–Ω—ã–µ | –≠–∫—Å–ø–µ—Ä—Ç—ã | –†–æ—É—Ç–∏–Ω–≥ | –ë–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∫–∞ |
|--------|----------|----------|---------|--------|---------------|
| **V1** | 16B | 2.8B | 64 fine-grained + 2 shared | Top-K, softmax –¥–æ top-K | Auxiliary loss (—ç–∫—Å–ø–µ—Ä—Ç + device) |
| **V2** | 236B | 21B | –¢–æ –∂–µ | + **Top-M device routing** | + Communication balancing loss |
| **V3** | 671B | 37B | –¢–æ –∂–µ | **Sigmoid gating**, softmax –ø–æ—Å–ª–µ top-K | **Aux-loss-free** + sequence-wise loss |

### 11. –ù–µ-MoE –∏–Ω–Ω–æ–≤–∞—Ü–∏–∏ –≤ DeepSeek-V3
- **MLA (Multi-head Latent Attention)**:
  - –°–∂–∞—Ç–∏–µ KV-cache —á–µ—Ä–µ–∑ latent-–≤–µ–∫—Ç–æ—Ä—ã;
  - –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å RoPE (—Å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è–º–∏).
- **MTP (Multi-Token Prediction)**:
  - –ü—Ä–æ–≥–Ω–æ–∑–∏—Ä–æ–≤–∞–Ω–∏–µ +1 —Ç–æ–∫–µ–Ω–∞ –≤–ø–µ—Ä—ë–¥ ‚Üí –ª—ë–≥–∫–æ–µ —É–ª—É—á—à–µ–Ω–∏–µ –∫–∞—á–µ—Å—Ç–≤–∞.

---

## üñ•Ô∏è –°–ª–∞–π–¥—ã

### –°–ª–∞–π–¥ 1: –¢–∏—Ç—É–ª—å–Ω—ã–π  
**¬´–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ Mixture of Experts (MoE)¬ª**  
–ü–æ–¥–∑–∞–≥–æ–ª–æ–≤–æ–∫: –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ –º–µ—Ç–æ–¥—ã –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—è —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã—Ö –º–∞—Å—à—Ç–∞–±–Ω—ã—Ö —è–∑—ã–∫–æ–≤—ã—Ö –º–æ–¥–µ–ª–µ–π  
–ö—É—Ä—Å: [–ù–∞–∑–≤–∞–Ω–∏–µ –∫—É—Ä—Å–∞], –ú–∞–≥–∏—Å—Ç—Ä–∞—Ç—É—Ä–∞  

### –°–ª–∞–π–¥ 2: –ü–æ—á–µ–º—É MoE?  
- –ì—Ä–∞—Ñ–∏–∫: ¬´Training loss vs FLOPs¬ª (Fedus et al., OlMoE)
- –°–ø–∏—Å–æ–∫ –º–æ–¥–µ–ª–µ–π: GPT-4, Llama 4, Grok, DeepSeek-V3 ‚Üí –≤—Å–µ MoE

### –°–ª–∞–π–¥ 3: –ë–∞–∑–æ–≤–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞  
- –°—Ö–µ–º–∞: Dense FFN vs MoE (FFN ‚Üí Router ‚Üí Experts ‚Üí Aggregation)
- –£—Ä–∞–≤–Ω–µ–Ω–∏–µ: `g = topK(softmax(W_router ¬∑ x))`

### –°–ª–∞–π–¥ 4: –¢–∏–ø—ã –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏  
–¢–∞–±–ª–∏—Ü–∞ (—Å–º. –≤—ã—à–µ) + –ø–æ—è—Å–Ω–µ–Ω–∏–µ: **–ø–æ—á–µ–º—É token choice –ø–æ–±–µ–¥–∏–ª**

### –°–ª–∞–π–¥ 5: Fine-grained & Shared Experts  
- –°—Ö–µ–º–∞: –æ–¥–∏–Ω —Ç–æ–∫–µ–Ω ‚Üí 6 –º–µ–ª–∫–∏—Ö —ç–∫—Å–ø–µ—Ä—Ç–æ–≤ + 1 –æ–±—â–∏–π
- –ì—Ä–∞—Ñ–∏–∫: OlMoE ablation ‚Äî 8 ‚Üí 32 ‚Üí 64 experts ‚Üí ‚Üìloss

### –°–ª–∞–π–¥ 6: –ë–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∫–∞ –∏ –æ–±—É—á–µ–Ω–∏–µ  
- –ü—Ä–æ–±–ª–µ–º–∞: ¬´dead experts¬ª ‚Üí –≥—Ä–∞—Ñ–∏–∫ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Ç–æ–∫–µ–Ω–æ–≤
- –†–µ—à–µ–Ω–∏–µ: `L_aux = f ¬∑ P`
- DeepSeek-V3: adaptive bias `b_i`

### –°–ª–∞–π–¥ 7: –°–∏—Å—Ç–µ–º–Ω—ã–µ —Å–ª–æ–∂–Ω–æ—Å—Ç–∏  
- Expert parallelism
- Token dropping ‚Üí –Ω–µ–¥–µ—Ç–µ—Ä–º–∏–Ω–∏–∑–º
- Top-M routing (DeepSeek-V2)

### –°–ª–∞–π–¥ 8: DeepSeek Evolution  
–¢–∞–±–ª–∏—Ü–∞ —Å—Ä–∞–≤–Ω–µ–Ω–∏—è V1 ‚Üí V2 ‚Üí V3

### –°–ª–∞–π–¥ 9: –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∏–Ω–Ω–æ–≤–∞—Ü–∏–∏  
- MLA: —Å—Ö–µ–º–∞ —Å–∂–∞—Ç–∏—è KV-cache
- MTP: –ø—Ä–æ–≥–Ω–æ–∑ +1 —Ç–æ–∫–µ–Ω–∞

### –°–ª–∞–π–¥ 10: –í—ã–≤–æ–¥—ã  
- MoE = must-know –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ LLM
- Trade-off: **—Å–ª–æ–∂–Ω–æ—Å—Ç—å –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã ‚Üî —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å**
- –ë—É–¥—É—â–µ–µ: —É–ø—Ä–æ—â–µ–Ω–∏–µ, open-source, –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ –æ–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω—ã–µ –∫—É—Ä—Å—ã

---

